<!DOCTYPE HTML>
<html>
<head>
<script src="plotly-latest.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
<script src="script.js"></script>

</head>
<body>

<button onClick="pushData()">Add data to Firebase</button>
<button onClick="setData()">Update data to Firebase</button>
<input type="value" id="dataValue"></input>


 <div id="myDiv"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>

var yVal = 0;
var xVal = 0;
var data = [];
  function setPoints(){
    //yVal = yVal +  Math.round(5 + Math.random() *(-5-5));





setDataRef = database.ref("/setData");
setDataRef.on('child_changed', function (snapshot) {
yVal = snapshot.val();
});



 data.push({
   
			x: [xVal++],
			y: [yVal],
      type: 'line'
		});



Plotly.newPlot('myDiv', data,{showSendToCloud: true});


  }

  setInterval(function(){setPoints()}, 1000);
  </script>

</body>
</html>
















